<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.weiweb.schedule.dao.ScheduleJobLogMapper">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap id="BaseResultMap" type="com.weiweb.schedule.model.ScheduleJobLog" >
        <result property="logId" column="log_id"/>
        <result property="jobId" column="job_id"/>
        <result property="beanName" column="bean_name"/>
        <result property="methodName" column="method_name"/>
        <result property="params" column="params"/>
        <result property="status" column="status"/>
        <result property="error" column="error"/>
        <result property="times" column="times"/>
        <result property="createTime" column="create_time"/>
        <result property="gmtModified" column="gmt_modified"/>
        <result property="gmtCreate" column="gmt_create"/>
    </resultMap>
<sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 25 14:05:11 CST 2017.
    -->
   	`log_id`, 		`job_id`, 		`bean_name`, 		`method_name`, 		`params`, 		`status`, 		`error`, 		`times`, 		`create_time`, 		`gmt_modified`, 		`gmt_create`	  </sql>
  
  <sql id="limit_sql">
  	   <if test="page_sql != null and page_sql != ''">
      	${page_sql}
      </if>
  </sql>
  
  <sql id="where_all">
  	<where>
  	<if test="findContent != null and findContent !='' " >
        and (
        LOWER(name) like CONCAT("%",#{findContent,jdbcType=VARCHAR},"%") or
        LOWER(type) like CONCAT("%",#{findContent,jdbcType=VARCHAR},"%")
        )
      </if>
      </where>
  </sql>
  
    <select id="findAll" resultMap="BaseResultMap" >
  	 select 
    <include refid="Base_Column_List" />
    from schedule_job_log
    <include refid="where_all"/>
    <include refid="limit_sql" />
  </select>
  
  
  <select id="findCount" resultMap="BaseResultMap" >
 	 select count(log_id) from  schedule_job_log
  	<include refid="where_all" />
  </select>
  
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from schedule_job_log
    where log_id = #{logId}
  </select>
  
    <insert id="insertSelective" parameterType="com.weiweb.schedule.model.ScheduleJobLog">
    
    <selectKey keyProperty="log_id" order="AFTER" resultType="java.lang.String">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into schedule_job_log
    <trim prefix="(" suffix=")" suffixOverrides=",">   
    	 <if test="logId != null">
	log_id , 	</if>
		 <if test="jobId != null">
	job_id , 	</if>
		 <if test="beanName != null">
	bean_name , 	</if>
		 <if test="methodName != null">
	method_name , 	</if>
		 <if test="params != null">
	params , 	</if>
		 <if test="status != null">
	status , 	</if>
		 <if test="error != null">
	error , 	</if>
		 <if test="times != null">
	times , 	</if>
		 <if test="createTime != null">
	create_time , 	</if>
		 <if test="gmtModified != null">
	gmt_modified , 	</if>
		 <if test="gmtCreate != null">
	gmt_create 	</if>
	    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
     	 <if test="logId != null">
	 #{logId} , 	</if>
		 <if test="jobId != null">
	 #{jobId} , 	</if>
		 <if test="beanName != null">
	 #{beanName} , 	</if>
		 <if test="methodName != null">
	 #{methodName} , 	</if>
		 <if test="params != null">
	 #{params} , 	</if>
		 <if test="status != null">
	 #{status} , 	</if>
		 <if test="error != null">
	 #{error} , 	</if>
		 <if test="times != null">
	 #{times} , 	</if>
		 <if test="createTime != null">
	 #{createTime} , 	</if>
		 <if test="gmtModified != null">
	 #{gmtModified} , 	</if>
		 <if test="gmtCreate != null">
	 #{gmtCreate} 	</if>
	    </trim>
  </insert>
  
   <update id="updateByPrimaryKeySelective" parameterType="com.weiweb.schedule.model.ScheduleJobLog">
  
    update schedule_job_log
    <set>
	
		 <if test="logId != null">
	log_id = #{logId} , 	</if>
		 <if test="jobId != null">
	job_id = #{jobId} , 	</if>
		 <if test="beanName != null">
	bean_name = #{beanName} , 	</if>
		 <if test="methodName != null">
	method_name = #{methodName} , 	</if>
		 <if test="params != null">
	params = #{params} , 	</if>
		 <if test="status != null">
	status = #{status} , 	</if>
		 <if test="error != null">
	error = #{error} , 	</if>
		 <if test="times != null">
	times = #{times} , 	</if>
		 <if test="createTime != null">
	create_time = #{createTime} , 	</if>
		 <if test="gmtModified != null">
	gmt_modified = #{gmtModified} , 	</if>
		 <if test="gmtCreate != null">
	gmt_create = #{gmtCreate} 	</if>
	     
    </set>
    where log_id = #{logId}
  </update>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
  
    delete from schedule_job_log
    where log_id = #{logId}
  </delete>
  
	 <insert id="insert" parameterType="com.weiweb.schedule.model.ScheduleJobLog">
   
    <selectKey keyProperty="log_id" order="AFTER" resultType="java.lang.String">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into  schedule_job_log 
	(
		`log_id`, 		`job_id`, 		`bean_name`, 		`method_name`, 		`params`, 		`status`, 		`error`, 		`times`, 		`create_time`, 		`gmt_modified`, 		`gmt_create`	      )
    values (
	
			#{logId}, 
		
   
			#{jobId}, 
		
   
			#{beanName}, 
		
   
			#{methodName}, 
		
   
			#{params}, 
		
   
			#{status}, 
		
   
			#{error}, 
		
   
			#{times}, 
		
   
			#{createTime}, 
		
   
			#{gmtModified}, 
		
   
			#{gmtCreate}
		
   	
      )
  </insert>
 



	

	<update id="updateByPrimaryKey" parameterType="com.weiweb.schedule.model.ScheduleJobLog">
  
    update schedule_job_log 
    		<set>
			<if test="jobId != null">`job_id` = #{jobId}, </if>
			<if test="beanName != null">`bean_name` = #{beanName}, </if>
			<if test="methodName != null">`method_name` = #{methodName}, </if>
			<if test="params != null">`params` = #{params}, </if>
			<if test="status != null">`status` = #{status}, </if>
			<if test="error != null">`error` = #{error}, </if>
			<if test="times != null">`times` = #{times}, </if>
			<if test="createTime != null">`create_time` = #{createTime}, </if>
			<if test="gmtModified != null">`gmt_modified` = #{gmtModified}, </if>
			<if test="gmtCreate != null">`gmt_create` = #{gmtCreate}</if>
		</set>
   	where log_id = #{logId}
	</update>
	

</mapper>