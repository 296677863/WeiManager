<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.weiweb.movie.dao.MovieMapper">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap id="BaseResultMap" type="com.weiweb.gen.model.Movie" >
        <result property="movieId" column="movie_id"/>
        <result property="movieName" column="movie_name"/>
        <result property="movieDirector" column="movie_director"/>
        <result property="movieLanguage" column="movie_language"/>
        <result property="typeId" column="type_id"/>
        <result property="movieDistrit" column="movie_distrit"/>
        <result property="movieDate" column="movie_date"/>
        <result property="isHead" column="is_head"/>
        <result property="isImage" column="is_image"/>
        <result property="isHot" column="is_hot"/>
        <result property="imageName" column="image_name"/>
        <result property="click" column="click"/>
        <result property="url" column="url"/>
    </resultMap>
<sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 25 14:05:11 CST 2017.
    -->
   	`movie_id`, 		`movie_name`, 		`movie_director`, 		`movie_language`, 		`type_id`, 		`movie_distrit`, 		`movie_date`, 		`is_head`, 		`is_image`, 		`is_hot`, 		`image_name`, 		`click`, 		`url`	  </sql>
  
  <sql id="limit_sql">
  	   <if test="page_sql != null and page_sql != ''">
      	${page_sql}
      </if>
  </sql>
  
  <sql id="where_all">
  	<where>
  	<if test="findContent != null and findContent !='' " >
        and (
        LOWER(name) like CONCAT("%",#{findContent,jdbcType=VARCHAR},"%") or
        LOWER(type) like CONCAT("%",#{findContent,jdbcType=VARCHAR},"%")
        )
      </if>
      </where>
  </sql>
  
    <select id="findAll" resultMap="BaseResultMap" >
  	 select 
    <include refid="Base_Column_List" />
    from movie
    <include refid="where_all"/>
    <include refid="limit_sql" />
  </select>
  
  
  <select id="findCount" resultMap="BaseResultMap" >
 	 select count(movie_id) from  movie
  	<include refid="where_all" />
  </select>
  
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from movie
    where movie_id = #{movieId}
  </select>
  
    <insert id="insertSelective" parameterType="com.weiweb.gen.model.Movie">
    
    <selectKey keyProperty="movie_id" order="AFTER" resultType="java.lang.String">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into movie
    <trim prefix="(" suffix=")" suffixOverrides=",">   
    	 <if test="movieId != null">
	movie_id , 	</if>
		 <if test="movieName != null">
	movie_name , 	</if>
		 <if test="movieDirector != null">
	movie_director , 	</if>
		 <if test="movieLanguage != null">
	movie_language , 	</if>
		 <if test="typeId != null">
	type_id , 	</if>
		 <if test="movieDistrit != null">
	movie_distrit , 	</if>
		 <if test="movieDate != null">
	movie_date , 	</if>
		 <if test="isHead != null">
	is_head , 	</if>
		 <if test="isImage != null">
	is_image , 	</if>
		 <if test="isHot != null">
	is_hot , 	</if>
		 <if test="imageName != null">
	image_name , 	</if>
		 <if test="click != null">
	click , 	</if>
		 <if test="url != null">
	url 	</if>
	    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
     	 <if test="movieId != null">
	 #{movieId} , 	</if>
		 <if test="movieName != null">
	 #{movieName} , 	</if>
		 <if test="movieDirector != null">
	 #{movieDirector} , 	</if>
		 <if test="movieLanguage != null">
	 #{movieLanguage} , 	</if>
		 <if test="typeId != null">
	 #{typeId} , 	</if>
		 <if test="movieDistrit != null">
	 #{movieDistrit} , 	</if>
		 <if test="movieDate != null">
	 #{movieDate} , 	</if>
		 <if test="isHead != null">
	 #{isHead} , 	</if>
		 <if test="isImage != null">
	 #{isImage} , 	</if>
		 <if test="isHot != null">
	 #{isHot} , 	</if>
		 <if test="imageName != null">
	 #{imageName} , 	</if>
		 <if test="click != null">
	 #{click} , 	</if>
		 <if test="url != null">
	 #{url} 	</if>
	    </trim>
  </insert>
  
   <update id="updateByPrimaryKeySelective" parameterType="com.weiweb.gen.model.Movie">
  
    update movie
    <set>
	
		 <if test="movieId != null">
	movie_id = #{movieId} , 	</if>
		 <if test="movieName != null">
	movie_name = #{movieName} , 	</if>
		 <if test="movieDirector != null">
	movie_director = #{movieDirector} , 	</if>
		 <if test="movieLanguage != null">
	movie_language = #{movieLanguage} , 	</if>
		 <if test="typeId != null">
	type_id = #{typeId} , 	</if>
		 <if test="movieDistrit != null">
	movie_distrit = #{movieDistrit} , 	</if>
		 <if test="movieDate != null">
	movie_date = #{movieDate} , 	</if>
		 <if test="isHead != null">
	is_head = #{isHead} , 	</if>
		 <if test="isImage != null">
	is_image = #{isImage} , 	</if>
		 <if test="isHot != null">
	is_hot = #{isHot} , 	</if>
		 <if test="imageName != null">
	image_name = #{imageName} , 	</if>
		 <if test="click != null">
	click = #{click} , 	</if>
		 <if test="url != null">
	url = #{url} 	</if>
	     
    </set>
    where movie_id = #{movieId}
  </update>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
  
    delete from movie
    where movie_id = #{movieId}
  </delete>
  
	 <insert id="insert" parameterType="com.weiweb.gen.model.Movie">
   
    <selectKey keyProperty="movie_id" order="AFTER" resultType="java.lang.String">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into  movie 
	(
		`movie_id`, 		`movie_name`, 		`movie_director`, 		`movie_language`, 		`type_id`, 		`movie_distrit`, 		`movie_date`, 		`is_head`, 		`is_image`, 		`is_hot`, 		`image_name`, 		`click`, 		`url`	      )
    values (
	
			#{movieId}, 
		
   
			#{movieName}, 
		
   
			#{movieDirector}, 
		
   
			#{movieLanguage}, 
		
   
			#{typeId}, 
		
   
			#{movieDistrit}, 
		
   
			#{movieDate}, 
		
   
			#{isHead}, 
		
   
			#{isImage}, 
		
   
			#{isHot}, 
		
   
			#{imageName}, 
		
   
			#{click}, 
		
   
			#{url}
		
   	
      )
  </insert>
 



	

	<update id="updateByPrimaryKey" parameterType="com.weiweb.gen.model.Movie">
  
    update movie 
    		<set>
			<if test="movieName != null">`movie_name` = #{movieName}, </if>
			<if test="movieDirector != null">`movie_director` = #{movieDirector}, </if>
			<if test="movieLanguage != null">`movie_language` = #{movieLanguage}, </if>
			<if test="typeId != null">`type_id` = #{typeId}, </if>
			<if test="movieDistrit != null">`movie_distrit` = #{movieDistrit}, </if>
			<if test="movieDate != null">`movie_date` = #{movieDate}, </if>
			<if test="isHead != null">`is_head` = #{isHead}, </if>
			<if test="isImage != null">`is_image` = #{isImage}, </if>
			<if test="isHot != null">`is_hot` = #{isHot}, </if>
			<if test="imageName != null">`image_name` = #{imageName}, </if>
			<if test="click != null">`click` = #{click}, </if>
			<if test="url != null">`url` = #{url}</if>
		</set>
   	where movie_id = #{movieId}
	</update>
	

</mapper>